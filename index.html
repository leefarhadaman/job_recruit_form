<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Job Application Form</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/toastify-js/1.12.0/toastify.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/toastify-js/1.12.0/toastify.min.css">
</head>

<body class="min-h-screen flex items-center justify-center p-4"
    style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">

    <div class="bg-white/95 backdrop-blur-sm shadow-xl rounded-2xl p-8 w-full max-w-6xl">
        <div class="flex justify-between items-center mb-8">
            <h1 class="text-3xl font-bold text-gray-800">Job Application Form</h1>
            <div class="flex space-x-2">
                <span id="currentStep" class="text-indigo-600 font-medium">Step 1</span>
                <span class="text-gray-500">/</span>
                <span class="text-gray-500">5</span>
            </div>
        </div>

        <form id="applicationForm" action="https://api.web3forms.com/submit" class="space-y-6" method="post">
            <!-- Replace with your Access Key -->
            <input type="hidden" name="access_key" value="71b56bed-78db-4d22-95e7-a60595d14373">
            <!-- Progress Bar -->
            <div class="w-full bg-gray-200 rounded-full h-2.5 mb-8">
                <div id="progress" class="bg-indigo-600 h-2.5 rounded-full transition-all duration-500"
                    style="width: 20%"></div>
            </div>

            <!-- Step 1: Personal Information -->
            <div id="step1" class="step active">
                <div class="grid grid-cols-2 gap-8">
                    <div class="space-y-6">
                        <div>
                            <label class="block text-sm font-medium text-gray-700">First Name</label>
                            <input type="text" name="firstName"
                                class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg" required>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700">Email</label>
                            <input type="email" name="email"
                                class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg" required>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700">Date of Birth</label>
                            <input type="date" name="dob"
                                class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg" required>
                        </div>
                    </div>
                    <div class="space-y-6">
                        <div>
                            <label class="block text-sm font-medium text-gray-700">Last Name</label>
                            <input type="text" name="lastName"
                                class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg" required>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700">Phone</label>
                            <input type="tel" name="phone"
                                class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg" required>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700">LinkedIn Profile</label>
                            <input type="url" name="linkedin"
                                class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg">
                        </div>
                    </div>
                </div>
            </div>

            <!-- Step 2: Address -->
            <div id="step2" class="step hidden">
                <div class="grid grid-cols-2 gap-8">
                    <div class="space-y-6">
                        <div>
                            <label class="block text-sm font-medium text-gray-700">Street Address</label>
                            <input type="text" name="street"
                                class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg" required>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700">City</label>
                            <input type="text" name="city"
                                class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg" required>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700">Country</label>
                            <select name="country" class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg"
                                required>
                                <option value="">Select country</option>
                                <option value="US">United States</option>
                                <option value="UK">United Kingdom</option>
                                <option value="CA">Canada</option>
                                <option value="CA">India</option>

                                <!-- Add more countries -->
                            </select>
                        </div>
                    </div>
                    <div class="space-y-6">
                        <div>
                            <label class="block text-sm font-medium text-gray-700">Apartment/Suite</label>
                            <input type="text" name="suite"
                                class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700">State/Province</label>
                            <input type="text" name="state"
                                class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg" required>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700">Postal Code</label>
                            <input type="text" name="postalCode"
                                class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg" required>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Step 3: Education -->
            <div id="step3" class="step hidden">
                <div id="educationContainer" class="space-y-8">
                    <div class="education-entry border border-gray-200 rounded-lg p-6">
                        <div class="grid grid-cols-2 gap-6">
                            <div>
                                <label class="block text-sm font-medium text-gray-700">Degree Level</label>
                                <select name="degree[]"
                                    class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg" required>
                                    <option value="">Select degree</option>
                                    <option value="High School">High School</option>
                                    <option value="Associate">Associate's Degree</option>
                                    <option value="Bachelor">Bachelor's Degree</option>
                                    <option value="Master">Master's Degree</option>
                                    <option value="PhD">PhD/Doctorate</option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700">Field of Study</label>
                                <input type="text" name="field[]"
                                    class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg" required>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700">Institution</label>
                                <input type="text" name="institution[]"
                                    class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg" required>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700">Graduation Year</label>
                                <input type="number" name="gradYear[]" min="1900" max="2099"
                                    class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg" required>
                            </div>
                            <div class="col-span-2">
                                <label class="block text-sm font-medium text-gray-700">Additional Information</label>
                                <textarea name="eduInfo[]" rows="2"
                                    class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg"></textarea>
                            </div>
                        </div>
                    </div>
                </div>
                <button type="button" id="addEducation"
                    class="mt-4 px-4 py-2 border border-indigo-500 text-indigo-500 rounded-lg hover:bg-indigo-50">
                    + Add Another Education
                </button>
            </div>

            <!-- Step 4: Experience -->
            <div id="step4" class="step hidden">
                <div id="experienceContainer" class="space-y-8">
                    <div class="experience-entry border border-gray-200 rounded-lg p-6">
                        <div class="grid grid-cols-2 gap-6">
                            <div>
                                <label class="block text-sm font-medium text-gray-700">Company Name</label>
                                <input type="text" name="company[]"
                                    class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg" required>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700">Job Title</label>
                                <input type="text" name="jobTitle[]"
                                    class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg" required>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700">Start Date</label>
                                <input type="month" name="startDate[]"
                                    class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg" required>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700">End Date</label>
                                <input type="month" name="endDate[]"
                                    class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg">
                                <div class="mt-2">
                                    <input type="checkbox" name="current[]" class="rounded border-gray-300">
                                    <label class="ml-2 text-sm text-gray-600">I currently work here</label>
                                </div>
                            </div>
                            <div class="col-span-2">
                                <label class="block text-sm font-medium text-gray-700">Job Description</label>
                                <textarea name="jobDescription[]" rows="3"
                                    class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg"
                                    required></textarea>
                            </div>
                        </div>
                    </div>
                </div>
                <button type="button" id="addExperience"
                    class="mt-4 px-4 py-2 border border-indigo-500 text-indigo-500 rounded-lg hover:bg-indigo-50">
                    + Add Another Experience
                </button>
            </div>

            <!-- Step 5: Skills and Documents -->
            <div id="step5" class="step hidden">
                <div class="grid grid-cols-2 gap-8">
                    <div class="space-y-6">
                        <div>
                            <label class="block text-sm font-medium text-gray-700">Skills</label>
                            <div class="mt-1">
                                <input type="text" id="skillInput"
                                    class="block w-full px-3 py-2 border border-gray-300 rounded-lg"
                                    placeholder="Type skill and press Enter">
                                <div id="skillTags" class="flex flex-wrap gap-2 mt-2"></div>
                                <input type="hidden" name="skills" id="skillsHidden">
                            </div>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700">Languages</label>
                            <div id="languageContainer" class="space-y-4">
                                <div class="language-entry grid grid-cols-2 gap-4">
                                    <select name="language[]"
                                        class="block w-full px-3 py-2 border border-gray-300 rounded-lg">
                                        <option value="">Select language</option>
                                        <option value="English">English</option>
                                        <option value="Spanish">Spanish</option>
                                        <option value="French">French</option>
                                        <!-- Add more languages -->
                                    </select>
                                    <select name="proficiency[]"
                                        class="block w-full px-3 py-2 border border-gray-300 rounded-lg">
                                        <option value="">Select proficiency</option>
                                        <option value="Basic">Basic</option>
                                        <option value="Intermediate">Intermediate</option>
                                        <option value="Advanced">Advanced</option>
                                        <option value="Native">Native</option>
                                    </select>
                                </div>
                            </div>
                            <button type="button" id="addLanguage"
                                class="mt-2 text-sm text-indigo-600 hover:text-indigo-500">
                                + Add another language
                            </button>
                        </div>
                    </div>
                    <div class="space-y-6">
                        <div>
                            <label class="block text-sm font-medium text-gray-700">Upload Resume</label>
                            <div
                                class="mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-lg">
                                <div class="space-y-1 text-center">
                                    <svg class="mx-auto h-12 w-12 text-gray-400" stroke="currentColor" fill="none"
                                        viewBox="0 0 48 48">
                                        <path
                                            d="M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02"
                                            stroke-width="2" stroke-linecap="round" />
                                    </svg>
                                    <div class="flex text-sm text-gray-600">
                                        <label
                                            class="relative cursor-pointer bg-white rounded-md font-medium text-indigo-600 hover:text-indigo-500">
                                            <span>Upload a file</span>
                                            <input id="resume" name="resume" type="file" class="sr-only"
                                                accept=".pdf,.doc,.docx">
                                        </label>
                                        <p class="pl-1">or drag and drop</p>
                                    </div>
                                    <p class="text-xs text-gray-500">PDF or DOC up to 2MB</p>
                                </div>
                            </div>
                            <div id="fileInfo" class="mt-2 text-sm text-gray-500"></div>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text ">fghjkjhgf</label>

                        </div>
                    </div>
                </div>
            </div>

            <!-- Navigation Buttons -->
            <div class="flex justify-between mt-8">
                <button type="button" id="prevBtn"
                    class="px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hidden">
                    Previous
                </button>
                <button type="button" id="nextBtn" class="px-6 py-2 bg-indigo-600 text-white rounded-lg">
                    Next
                </button>
                <button type="submit" id="submitBtn" class="px-6 py-2 bg-green-600 text-white rounded-lg hidden">
                    Submit Application
                </button>
            </div>
        </form>
    </div>

    <script>
        let currentStep = 1;
        const totalSteps = 5;
        let skills = new Set();

        // Skills handling
        const skillInput = document.getElementById('skillInput');
        const skillTags = document.getElementById('skillTags');
        const skillsHidden = document.getElementById('skillsHidden');

        skillInput.addEventListener('keydown', function (e) {
            if (e.key === 'Enter' || e.key === ',') {
                e.preventDefault();
                const skill = this.value.trim();
                if (skill && !skills.has(skill)) {
                    addSkillTag(skill);
                    this.value = '';
                }
            }
        });

        function addSkillTag(skill) {
            skills.add(skill);
            updateSkillTags();
        }

        function removeSkillTag(skill) {
            skills.delete(skill);
            updateSkillTags();
        }

        function updateSkillTags() {
            skillTags.innerHTML = '';
            skills.forEach(skill => {
                const tag = document.createElement('span');
                tag.className = 'inline-flex items-center px-3 py-1 rounded-full text-sm bg-indigo-100 text-indigo-800';
                tag.innerHTML = `
        ${skill}
        <button type="button" class="ml-2 text-indigo-600 hover:text-indigo-800" onclick="removeSkillTag('${skill}')">
          ×
        </button>
      `;
                skillTags.appendChild(tag);
            });
            skillsHidden.value = Array.from(skills).join(',');
        }

        // Add Education Entry
        document.getElementById('addEducation').addEventListener('click', function () {
            const container = document.getElementById('educationContainer');
            const newEntry = container.children[0].cloneNode(true);

            // Clear input values
            newEntry.querySelectorAll('input, select, textarea').forEach(input => {
                input.value = '';
            });

            // Add remove button
            const removeBtn = document.createElement('button');
            removeBtn.type = 'button';
            removeBtn.className = 'mt-4 text-red-500 text-sm hover:text-red-700';
            removeBtn.textContent = 'Remove this entry';
            removeBtn.onclick = function () {
                newEntry.remove();
            };
            newEntry.appendChild(removeBtn);

            container.appendChild(newEntry);
        });

        // Add Experience Entry
        document.getElementById('addExperience').addEventListener('click', function () {
            const container = document.getElementById('experienceContainer');
            const newEntry = container.children[0].cloneNode(true);

            // Clear input values
            newEntry.querySelectorAll('input, select, textarea').forEach(input => {
                input.value = '';
                if (input.type === 'checkbox') input.checked = false;
            });

            // Add remove button
            const removeBtn = document.createElement('button');
            removeBtn.type = 'button';
            removeBtn.className = 'mt-4 text-red-500 text-sm hover:text-red-700';
            removeBtn.textContent = 'Remove this entry';
            removeBtn.onclick = function () {
                newEntry.remove();
            };
            newEntry.appendChild(removeBtn);

            container.appendChild(newEntry);
        });

        // Add Language Entry
        document.getElementById('addLanguage').addEventListener('click', function () {
            const container = document.getElementById('languageContainer');
            const newEntry = container.children[0].cloneNode(true);

            // Clear selections
            newEntry.querySelectorAll('select').forEach(select => {
                select.value = '';
            });

            // Add remove button
            const removeBtn = document.createElement('button');
            removeBtn.type = 'button';
            removeBtn.className = 'ml-2 text-red-500 text-sm hover:text-red-700';
            removeBtn.textContent = 'Remove';
            removeBtn.onclick = function () {
                newEntry.remove();
            };
            newEntry.appendChild(removeBtn);

            container.appendChild(newEntry);
        });

        // File upload handling
        const dropZone = document.querySelector('.border-dashed');
        const fileInput = document.getElementById('resume');

        fileInput.addEventListener('change', handleFileSelect);

        function handleFileSelect(e) {
            const file = e.target.files[0];
            if (file) {
                updateFileInfo(file);
            }
        }

        function updateFileInfo(file) {
            const fileInfo = document.getElementById('fileInfo');
            if (file.size > 2 * 1024 * 1024) {
                fileInfo.textContent = 'File is too large. Maximum size is 2MB.';
                fileInfo.className = 'mt-2 text-sm text-red-500';
                fileInput.value = '';
            } else {
                fileInfo.textContent = `Selected file: ${file.name}`;
                fileInfo.className = 'mt-2 text-sm text-gray-500';
            }
        }

        // Navigation and validation
        function updateStep(step) {
            document.querySelectorAll('.step').forEach(s => s.classList.add('hidden'));
            document.getElementById(`step${step}`).classList.remove('hidden');

            document.getElementById('currentStep').textContent = `Step ${step}`;
            document.getElementById('progress').style.width = `${(step / totalSteps) * 100}%`;

            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            const submitBtn = document.getElementById('submitBtn');

            prevBtn.classList.toggle('hidden', step === 1);
            nextBtn.classList.toggle('hidden', step === totalSteps);
            submitBtn.classList.toggle('hidden', step !== totalSteps);
        }

        document.getElementById('nextBtn').addEventListener('click', () => {
            if (validateCurrentStep() && currentStep < totalSteps) {
                currentStep++;
                updateStep(currentStep);
            }
        });

        document.getElementById('prevBtn').addEventListener('click', () => {
            if (currentStep > 1) {
                currentStep--;
                updateStep(currentStep);
            }
        });

        function validateCurrentStep() {
            const currentStepEl = document.getElementById(`step${currentStep}`);
            const requiredFields = currentStepEl.querySelectorAll('[required]');
            let valid = true;

            requiredFields.forEach(field => {
                if (!field.value) {
                    valid = false;
                    field.classList.add('border-red-500');

                    // Add error message
                    let errorMsg = field.nextElementSibling;
                    if (!errorMsg || !errorMsg.classList.contains('error-message')) {
                        errorMsg = document.createElement('p');
                        errorMsg.className = 'error-message text-red-500 text-xs mt-1';
                        field.parentNode.insertBefore(errorMsg, field.nextSibling);
                    }
                    errorMsg.textContent = 'This field is required';
                } else {
                    field.classList.remove('border-red-500');
                    const errorMsg = field.nextElementSibling;
                    if (errorMsg && errorMsg.classList.contains('error-message')) {
                        errorMsg.remove();
                    }
                }
            });

            return valid;
        }

        const form = document.getElementById('applicationForm');

        form.addEventListener('submit', async function (e) {

            e.preventDefault();



            if (!validateCurrentStep()) return;

            const formData = new FormData(this);



            // Add skills array

            formData.set('skills', Array.from(skills).join(', '));



            try {

                const response = await fetch(this.action, {

                    method: 'POST',

                    body: formData

                });



                const data = await response.json();



                if (data.success) {

                    Toastify({

                        text: "Application submitted successfully!",

                        duration: 3000,

                        gravity: "top",

                        position: "center",

                        backgroundColor: "linear-gradient(to right, #00b09b, #96c93d)",

                    }).showToast();



                    // Optional: Reset form

                    this.reset();

                    skills.clear();

                    updateSkillTags();

                    currentStep = 1;

                    updateStep(1);

                } else {

                    throw new Error('Submission failed');

                }

            } catch (error) {

                Toastify({

                    text: "Error submitting form. Please try again.",

                    duration: 3000,

                    gravity: "top",

                    position: "center",

                    backgroundColor: "linear-gradient(to right, #ff0000, #cc0000)",

                }).showToast();

            }

        });
    </script>
</body>

</html>